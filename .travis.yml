language: node_js
node_js:
- '12'
branches:
  only:
  - main
script: make travis
deploy:
- provider: script
  skip_cleanup: true
  script: bash ./tools/publish.sh
  on:
    branch: main
env:
  global:
  - ALIYUN_ENDPOINT=http://39.98.93.191/admin
  - ALIYUN_ACCESS_KEY=z1aWXyf27QaUtAAT6wv4t5sL4visgBhRBPb
  # ALIYUN_ACCESS_SECRET
  - secure: Rz+K3SZjliqV1tbKzoN3a+pWJJQNQGs6jtvH2nzOv+AJI+xIqx1Hf/FfPbzT8WJZp+dXItqYPL05voYssGNcvsujNaMd1aOs9oObP+ubiqV6ciprC3Gu4lHmzSswkZsQZ8fAKXL75GI6fvcXuAPNgixE5h6bawdrFdPvhws80oVzpixeXQntuFEktcquTHuNu7kGEivnLr3iId1+o8vnf94noWKrYS0tsJK9NV7sC1DsvBfG29/H04RHUeoigT3JWtzxvCn19TwcwRdVz4PHLQ5gy4jpNBYk9EBERQY8E73ibUV7DuWyYn1+3SyYT29fW1IYQwow5P/67DkjHWmd9Ew1Bg6+SvZCxlWQPVcBxyvDW9C77ll14LFj5Jr/RLPjNf6wokQ1ylu/n1+iUjcgAxZTTkQsNNQ/wIaauMNrsKOk/nx0+pfiy2Xohsdk0R34EKbCkl6nw091AAcK8Skf2SCBFjZBbWgJDQa8hsXoawYfGN0kqtOwtK5+0ynFgPGFWdTa56adSozo7qaGVX1gC4A3X/GMZ2DCy2NRiS2pZmxECB9zQfQsBpVrTYhLP6OZ+sLeIhU5wtsUnsVHgokw4Alh5BfTgdXVKoyXMEkLvJkH+Z90Ed9sTotXTttq1m7u05t549liK5oCgnDzCB4NogqEfRV4qw3EyELb7usERY8=
  - AWS_ENDPOINT=http://54.213.55.12/admin
  - AWS_ACCESS_KEY=z1W9k2T7XTddPMtArMs7gs6pJYvsN63dggE
  # AWS_ACCESS_SECRET
  - secure: CP+e8xAHJALwLuD7DvX9bcFNbjeFmfSy+pLrB7mn1UgGsaG4m9zsn60wvzqmjkoEXPwXuegn+rtW5hRHWH0iGu+ebi1xseEMSX2hW3DCeRaLGBMHazg8kn+lgNeoQPHpJRKjDL4H9nQw1cYJfSOyP6ENxMMYknW8ds3Cv7Ib+4pMu3xzFmEJfpoitqma/0suh2No0XfVICm0BdsrlRyTXlhfSIy9WRNgYyN2PQTo9yTISKdRjrQv4HOybF+WZIt5WWymVOQGOKErf1rCSsbSN6Umqu9A54UcTyUbYM6SUX+z8oXBT1mc+YQEz1Ph++Sv74Rb74Hz30zqH4rb4g6zrn4BBoFl3h3bCwizmPj5NWrqlq3bSF1jCfdiVe1ErRvhn0EpPVpJxtU9Q5922rs724u8rrBwoMX5jWbO4YURLuNV9/vjPi6GlUhBUumQqXHZkRs/l1mHBb9NWfWVC30jIYocbrBvBHKiHbpwOr2g3MIQgjq8COZ04W0GGij+aRpJhgKV+DDXjgyJkWx1hRehPaeBGun1pekVAfulP16ulmOx+E7JKuakUmMDSK9kq7QD1bnmsAZPGSWLpgqm70Dq6/K+k8IAtdOEDxRPdGBMqqDHbivDRxFYwslm9XRBwAs8oG62qDzjrh9t7EhbQwEtelvNc22HK1pn1tW2o01OGds=
  # GITHUB_TOKEN
  - secure: mcmji1ILA6m9xO30o/BHh6Wefc2wxfJM94X9UKbDI7h6IMKJ0AvF6CVJaKtgaSNFXbKLnOjUkehgQ+9qXsdjh2P14guicfvVppXEsneG0NA+H48WiA7Ra0hyQ97eB3Dyd4HptFWCxYIqodZlnxokj7Nj9zGxOekn9huU1dXL+DDReGdi+zffN9cy/t27zhX4Vk8FqIM6dietq5SM0oHj64djY9TlK51s9cs9N24XlIIUA1mUL+96AN4oPoTmzfQFEA8Wk8CjoZPlwJQOIpVwZogNHQAidYucKgpZnX43u+hxTncEALgbiL02BUKGlB5Cgjrl68ntD80uW/gFMRXeSIZZuGxyZ5SF9llrNBitF4iQwVnbQ+1rE38/xaewZbCrn2MLaInBZpz01/nUvv5roWhqsqdCbjf/eZC5t6EZ3mpf9nI2/URWwvTlbub1UZoEHT1RlI/Ha+Kf3rTgwaPiChJQVIgzqud9xMJOV3gQDWWQ2P5/skupxLF6d2eneESXRnxqmCRzPTVa0InNZxXtkJ+wk9EBsCnYdiaFfiQfNE6sjZS995AeSNXp0FVdsn7yQT5FeruPNmSGEecCckOHmxkjAtqzncmv5TsCNdgzIvZfBtAXrJa1fX2miUWMUditwic1AfLP7q6X/a02I11T2VQdXFG6jVyh9B+BKmfSSwA=
  # NPM_TOKEN
  - secure: HcGpU7w4cUAlEVwuIUENChupZjwSfrz7z3x1z44TlVbZtakXrIJp9vsqNKfSnURYgA2jQ/8Mi0QTvu4VLff+0xeuIYhwz3vGbKnW79tFSS04yI0mZFS3h4PevsMADbA1Fg/RTcWLtdcxPu5/TmU0FK3j0O5lUUXF4RZo/5OLcWh7pvjFRLZKD6ew7alr6YwPFhWKJvCBqAHrx0io/9aZidNtdLKkDiRrnj4Mr3j38atxK5T8jP00FXPlKK7Tqv7KjX/n/BGvVzT8qWCI3C5WgE/l29bnsMztcpAPH01rTcwmxb6WMz1LyuD8F5wNO8kgWxGA+qJc8lcZJJrVLJoUnXcZo7g7KIQiSbLp+ACb33SsBl3/zYM3eBpNJHsvQSKZSrM3I31tWX49mGenhTJ2RUUnyEGZWluxUrGk20IgXQ3w/MvocGd/iICJER4jPG1hDeg1WlZalVLOMEh2hEhkP2G8uanEpMNNVKji2iheaCTzo9mfdHp/akNuHSQvHlkz56ZmP1l/j6oYard0LE+PCYG/14e2HWnAkD99XBlP2pUz5yxDGGmTQGoawnOV+SqBbnY9RmP8yXo0Q7kHib1atJjPcyHbj4Nk+WMWHpKoVbXko5BcjPuul3lSWMuB7WNjvDPnK6+Jo44um+uNfv2/xH7nX5s5mv+kCzCApK6N2/c=
  # SLACK_WEBHOOK
  - secure: Ttu8GqrHZHC6R3XDTqgcfkCBDsGECIwdKpiwbN6fcC+KmWVspZW191m9XcCg7aPURCUMaXxCvBiMtSUVD06WWnhKLbd+I5nIiQ8dzWVMhly9FC9RLzDcuttdWTD3t8wlK3iHnMh0sgJ9q+awRfjf/VMqEWHzjmcpCTT9D07Zj7th+ygDjMGPHSprBMpZsJBkvrtAIBE27KKb9UsEzg8cAvexDGWN/8D1E+Y1s9xlk58EUDgG3YJel++YOachzK2jJda7yYglHVaIWPkUB+q0QXWet6zK9UPohuhdV/L1N/vk2QiwQDvUcsY9XcHgiJCgdNjK+MStI+5IfPrGNVByzR7Lxu3LIriPZA2BCKbg/wp99LF920LvSyi28/FyCzcNf/Is8INkNsdjXluKixnT37lRSXqzV3U+Tq3qTAWVpsx5ovNVZS5dL7g7gOLMzF2a7QRKxGc+cq2WzJZ18ukz1RqWXS05Hwbwo5Xf3RnFc17PEYHu4Js6JUTJ3EJTtY9Mrwfb+Ar73oyR4qv+LESocHbw+97v5rEGuw2MQGDH/DL2tZszrEsIU1Z3ejGOX+7V9fYF87DsmzqfR4OSNG7UW7ihWNi1pv2PmdPr+N6oGfIsiTtagn66LrVLr7ggTTi3KaYatiH+nr3+l0+VgmYFjtUulU6NBOgsEabL5ZraLgw=
